<?xml version="1.0" encoding="utf-8"?>
<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_44">
        <Comment Background="Blue:1" Text="Sub tree for switching to a hit and run after being attacked" />
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_21">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionIsGaugeAmountAbove" GaugeAmountType="GAUGE_ACTIVATED:3" GaugeType="RETREAT_GAUGE:0" MustBeTriggered="False">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="FAKE_FLAMETHROWER">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistance" Distance="1">
            <Comment Background="NoColor:0" Text="We want to make sure the alien is not TOO close....." />
            <Connector Identifier="ConditionFalse">
              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_22">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_45">
                <Comment Background="Red:2" Text="Hit and Run" />
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="12">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceUnobscured" Distance="12">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionAngleToTargetLessThan" Angle="90">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_HIT_AND_RUN:6" />
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_BREAKOUT:4" />
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_AMBUSH:16" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_47">
                <Comment Background="Green:3" Text="Just run away" />
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ActionForceIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_BREAKOUT:4" />
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_AMBUSH:16" />
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>