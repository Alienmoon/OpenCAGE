<?xml version="1.0" encoding="utf-8"?>
<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="5" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_80">
            <Comment Background="Blue:1" Text="Special branch when the target is an NPC so that it does no extra behaviours except attack" />
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="NPCAttackSelector">
                <Connector Identifier="GenericChildren">
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_flamed_unaware.xml" />
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="AttackAvailable">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionHasMeleeAttackAvailable" AttackType="ANY:0">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_ATTACK:5" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionHasValidRouteToTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_49">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_83">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="15">
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ActionMoveToAttackTarget" MovementSpeedType="Fastest:3" PlayStoppingAnim="True" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="1" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_83_CLONE">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="8">
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="15">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionMoveThroughTarget" MovementSpeedType="Fast:2" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_83_CLONE_CLONE">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="5">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionMoveThroughTarget" MovementSpeedType="Fast:2" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                </Connector>
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="8">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionMoveThroughTarget" MovementSpeedType="Slow:1" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="5">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionMoveThroughTarget" MovementSpeedType="Fast:2" RequestShutDownSpeed="SST_GRACEFULL:0" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="NPCPathFailedToNPC">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionAssert" AssertInfo="Error - Alien failed to pathfind to non player enemy " />
                      <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>