<?xml version="1.0" encoding="utf-8"?>
<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.ConditionScriptedWithdrawRequested">
        <Connector Identifier="ConditionTrue">
          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_8">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_12">
                <Comment Background="Red:2" Text="If we want to withdraw - and the alien is close by and could attack - then do!" />
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionIsBackstage">
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceUnobscured" Distance="5">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack_core.xml" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_87">
                <Comment Background="NoColor:0" Text="Wait until the alien is far enough out, then go backstage" />
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_65">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionRangeTestForScriptedWithdrawal">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionIsBackstage">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="-1" TimerType="BACKSTAGE_STALK_TIMEOUT_TIMER:4" />
                  <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="BACKSTAGE_AREA_SWEEP_BRANCH:9">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionBackstageAreaSweep" BackstageBehaviour="BACKSTAGE_ONLY:0" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>